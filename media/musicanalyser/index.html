<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>lib.media.musicanalyser.js</title>
<meta name="description" content="" />
<meta name="keywords" content="" />

<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />
<meta name="format-detection" content="telephone=no" />

<!--for this site-->
<link rel="stylesheet" href="../../_resource/css/basic.css" media="all">
<script src="http://code.jquery.com/jquery-git1.min.js"></script>

</head>
<body>
<div id="container">
<div id="contentsarea">
<h1>lib.media.musicanalyser.js</h1>
<p class="loading">...loading</p>
<p class="click" style="display:none;">click</p>
<canvas id="music_wave" width="800" height="400"></canvas>

<p>music: 97684351 / y0c1e <br>http://outofdots.com/2012/compilation/</p>
</div>
</div>

<script src="./lib.media.musicanalyser.js"></script>
<script>
  analyser = _l.media.musicanalyser();
  analyser.getData('./sample.mp3', function(){
    console.log('data load');

    $('.loading').hide();
    $('.click').show().on('click', function(e){
      e.preventDefault();
      analyser.play(function(timeDomainData) {
        console.log('play callback');
        analyser.drawWave(timeDomainData);
      }, function() {
        console.log('ended');
      });
    });

  });
</script>
</body>
</html>