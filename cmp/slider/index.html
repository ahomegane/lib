<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>slider</title>
<meta name="description" content="" />
<meta name="keywords" content="" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<!-- <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" /> -->
<meta name="format-detection" content="telephone=no" />

<!--for this site-->
<link href='http://fonts.googleapis.com/css?family=Ropa+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="../../_resource/css/basic.css" media="all">

</head>
<body>

<div id="container">
<div id="contentsarea">
<h1>cover_flow</h1>

<div class="outline">
 
  <div class="slider">
    <div class="main">
      <div class="images">
        <ul>
          <li><a href=""><img src="./images/01/01.png" alt="" width="250"></a>1</li>
          <li><a href=""><img src="./images/01/02.png" alt="" width="250"></a>2</li>
          <li><a href=""><img src="./images/01/03.png" alt="" width="250"></a>3</li>
          <li><a href=""><img src="./images/01/04.png" alt="" width="250"></a>4</li>         
          <li><a href=""><img src="./images/01/05.png" alt="" width="250"></a>5</li>
          <li><a href=""><img src="./images/01/06.png" alt="" width="250"></a>6</li>                
          <li><a href=""><img src="./images/01/07.png" alt="" width="250"></a>7</li>                  
          <li><a href=""><img src="./images/01/08.png" alt="" width="250"></a>8</li>
          <li><a href=""><img src="./images/01/09.png" alt="" width="250"></a>9</li>
          <li><a href=""><img src="./images/01/10.png" alt="" width="250"></a>10</li>
          <li><a href=""><img src="./images/01/11.png" alt="" width="250"></a>11</li>
          <li><a href=""><img src="./images/01/12.png" alt="" width="250"></a>12</li>
          <li><a href=""><img src="./images/01/13.png" alt="" width="250"></a>13</li>
          <li><a href=""><img src="./images/01/14.png" alt="" width="250"></a>14</li>         
          <li><a href=""><img src="./images/01/15.png" alt="" width="250"></a>15</li>
          <li><a href=""><img src="./images/01/16.png" alt="" width="250"></a>16</li>
        </ul>
      </div><!-- /.images -->
      <div class="bullet">
        <ul>
          <li><span class="number"></span></li>
        </ul>
      </div><!-- /.bullet -->  
      <div class="mask_left"></div>
      <div class="mask_right"></div>
      <div class="prev"><a href="#">prev</a></div>
      <div class="next"><a href="#">next</a></div>            
    </div><!-- /.main -->
    <div class="loading">
      <div class="progress"></div>
    </div><!-- /.loading -->     
  </div><!-- /.slider -->

</div>

</div>
</div>

<style>
#contentsarea {
  max-width: none;
  padding-left: 0;
  padding-right: 0;
}
h1 {
  margin-left: 10px;
}
p {
  padding-top: 0;
}
.outline {
  border-top: 1px solid #555;
  border-bottom: 1px solid #555;
  margin-top: 150px;
}
</style>

<link rel="stylesheet" href="./lib_cmp_slider.css" media="all">
<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script src="../../env/lib.env.js"></script>
<script src="../../ui/css3/lib.ui.css3.js"></script>
<script src="../../ui/touches/lib.ui.touches.js"></script>
<script src="../../media/imageloader/lib.media.imageloader.js"></script>
<script src="./lib.cmp.slider.js"></script>
<script>

// optionの設定
var options = {
  context: $('.slider'),
  loop: false,
  repeat: 1,
  center: null,
  step: 1,
  swipe: true,
  mouseSwipe: true,
  interval: false,
  intervalTime: 5000,
  bulletClick: true,
  loading: false,
  resize: true,        
  mode: {
    plain: {
      detect: (function() {
        return false;
      })(),
      animation: {
        // stepMove: null,
        slide: {
          time: 300,
          ease: 'ease-in-out',
          delay: 0
        }
      },
      margin: 10
    },
    coverFlow: {
      detect: (function() {
        return true;
      })(),
      animation: {
        // stepMove: null,
        slide: {
          time: 300,
          ease: 'ease-in-out',
          delay: 0
        },
        image: {
          time: 200,
          ease: 'linear',
          delay: 20
        }
      },
      margin: -60
    }
  },
  initStart: null,
  initEnd: null,
  slideStart: null,
  slideEnd: null,
  loadingStart: null,
  loadingProgress: null,
  loadingEnd: null
};

//指定のクラス名/構造
//context .main
//context .main .images
//context .main .images > ul > li

//context .bullet
//context .bullet > ul
//context .bullet > ul > li
/* 要素あれば番号挿入 */
//context .bullet > ul > li .number

/* 要素あればクリック可能に */
//context .prev 
//context .next

/* modeによってクラスをつける */
//context .main.plain
//context .main.cover_flow

//loadingを実装したいとき
var $slider = $('.slider'),
    $frame = $slider.find('.images'),
    $loading = $slider.find('.loading'),
    $progress = $loading.find('.progress');

var progressWidth = 300;
$progress.width(0);

options.loading = true;
options.loadingMinTime = 400;
options.loadingStart = function() {
}
options.loadingProgress = function(progress, all) {
  // console.log((progress / all * 100) + '%');
  $progress.width( progressWidth * progress / all);
}
options.loadingEnd = function() {
  $loading.delay(400).fadeOut(600);
}

// init
// instanceが返ってきます
var slider = _l.slider(options);

// eventをバインドするとき
// 通常と同様にpreventDefaultを使用できます
$('li').on('sliderclick', function(e) {
  // e.preventDefault();
  console.log('bind event');
});

</script>

</body>
</html>